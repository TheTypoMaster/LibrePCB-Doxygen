<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>LibrePCB Developers Documentation: Code Style Guide</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../librepcb_logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">LibrePCB Developers Documentation
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="../../index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="../../pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="../../namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="../../annotated.html"><span>Classes</span></a></li>
      <li><a href="../../files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="../../search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="../../search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('df/d24/doc_code_style_guide.html','../../');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Code Style Guide </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#doc_code_style_guide_general">General</a></li>
<li class="level1"><a href="#doc_code_style_guide_header_files">Header Files</a></li>
<li class="level1"><a href="#doc_code_style_guide_naming">Naming</a></li>
<li class="level1"><a href="#doc_code_style_guide_comments">Comments</a></li>
<li class="level1"><a href="#doc_code_style_guide_types">Types</a></li>
<li class="level1"><a href="#doc_code_style_guide_qt_qobject">QObject</a></li>
<li class="level1"><a href="#doc_code_style_guide_qt_macros">Qt Macros</a></li>
</ul>
</div>
<div class="textblock"><p>This page describes the code style guide for LibrePCB developers.</p>
<h1><a class="anchor" id="doc_code_style_guide_general"></a>
General</h1>
<ul>
<li>Qt &gt;= 5.2</li>
<li>C++11</li>
<li>Use strongly typed enums ("enum class", C++11) whenever reasonable</li>
<li>Use "nullptr" instead of "NULL" or "0"</li>
<li>Use keywords like "const", "constexpr", "final", ... whenever possible</li>
<li>Use exception specifier in method declarations: <div class="fragment"><div class="line"><span class="keywordtype">void</span> foo() noexcept;            <span class="comment">// this method never throws exceptions</span></div>
<div class="line"><span class="keywordtype">void</span> bar() throw (<a class="code" href="../../df/d70/class_exception.html">Exception</a>);   <span class="comment">// this method can throw exceptions of type &quot;Exception&quot; (or any subclass of it)</span></div>
</div><!-- fragment --></li>
</ul>
<h1><a class="anchor" id="doc_code_style_guide_header_files"></a>
Header Files</h1>
<ul>
<li>Use nearly always forward declarations when possible. Includes in header files are allowed:<ul>
<li>for all Qt header files (like QtCore, QtWidgets,...)</li>
<li>when the header file uses other types by value (by reference/pointer &ndash;&gt; use forward declaration)</li>
<li>when the header file highly depends on other types, even if only by reference/pointer</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="doc_code_style_guide_naming"></a>
Naming</h1>
<ul>
<li>File Names: Excatly same naming as classes, but all characters lowercase. Example: <a class="el" href="../../d5/d03/ses__select_8cpp.html">ses_select.cpp</a>, <a class="el" href="../../dc/dfc/ses__select_8h.html">ses_select.h</a></li>
<li>Include guards: Use the namespace as prefix before the class name. Example:<div class="fragment"><div class="line"><span class="preprocessor">#ifndef NAMESPACE_CLASSNAME_H </span></div>
</div><!-- fragment --></li>
<li>Namespaces: lowercase (with underline as separator if needed)</li>
<li>Classes: UpperCamelCase (for common prefixes, use the underline as separator. Example: <a class="el" href="../../d8/d8b/classproject_1_1_s_e_s___select.html" title="The SES_Select class (default state of the schematic editor FSM) ">project::SES_Select</a>)</li>
<li>Interfaces: Like Classes, but with prefix "IF_". Example: IF_CADSceneEventHandler)</li>
<li>Typedefs (POD, structs, enums): UpperCamelCase, with "_t" suffix. Examples: <a class="el" href="../../dd/db9/length_8h.html#a474c456652ba2ab8630131d73245fb6f" title="This type is the ONLY base type to store all lengths (always in nanometers)! ">LengthBase_t</a>, <a class="el" href="../../dd/d55/class_length_unit.html#a693ad72e816a82efcb84ed5b955e511d" title="An enum which contains all available length units. ">LengthUnit::LengthUnit_t</a></li>
<li>Functions/Methods: lowerCamelCase</li>
<li>Member Variables: lowerCamelCase, beginning with a 'm'. Example: <a class="el" href="../../dd/d55/class_length_unit.html#a2c37ef4383b2422d2c73d6b2baa5c3a5" title="Holds the length unit of the object. ">LengthUnit::mUnit</a></li>
<li>Static Variables: lowerCamelCase, beginning with a 's'. Example: LengthUnit::sDefaultUnit</li>
<li>Function Parameters: lowerCamelCase</li>
<li>Local Variables: lowerCamelCase</li>
<li>Macros: uppercase, with underline as separator</li>
</ul>
<h1><a class="anchor" id="doc_code_style_guide_comments"></a>
Comments</h1>
<ul>
<li>Use doxygen comments with '@' (not '\') as command character</li>
<li>Methods documentation only in header files, not in source files</li>
</ul>
<h1><a class="anchor" id="doc_code_style_guide_types"></a>
Types</h1>
<ul>
<li>If you need integer types with fixed width, us Qt's typedefs (for example "qint32") instead of the types from &lt;stdint.h&gt; (for example "int32_t").</li>
<li>For floating point numbers, use Qt's typedef "qreal" instead of "float" or "double" whenever possible. This way, the application will work also on ARM platforms with single precision FPU quite well.</li>
</ul>
<h1><a class="anchor" id="doc_code_style_guide_qt_qobject"></a>
QObject</h1>
<ul>
<li>Inherit from QObject only when needed (for example if you only need QObject::tr(), see note to <code>Q_DECLARE_TR_FUNCTIONS()</code> in <a class="el" href="../../df/d24/doc_code_style_guide.html#doc_code_style_guide_qt_macros">Qt Macros</a>)</li>
<li>Try to avoid using QObject::connect() with Qt's <code>SIGNAL()</code> and <code>SLOT()</code> macros! Use function addresses instead (whenever possible). This way, signals and slots are checked on compile-time instead of runtime. <div class="fragment"><div class="line">connect(&amp;myTimer, SIGNAL(timeout()), <span class="keyword">this</span>, SLOT(mySlot()));     <span class="comment">// uses runtime check --&gt; avoid this!</span></div>
<div class="line">connect(&amp;myTimer, &amp;QTimer::timeout, <span class="keyword">this</span>, &amp;MyClass::anyMethod); <span class="comment">// uses compile-time check (and any method can be used as slots!) --&gt; much better!</span></div>
<div class="line">connect(&amp;mAutoSaveTimer, &amp;QTimer::timeout, [<span class="keyword">this</span>](){doSomething();});   <span class="comment">// Using C++11 lambda functions as slots is also possible </span></div>
<div class="line">                                                                        <span class="comment">// --&gt; can be very useful, but use it carefully (dangling pointers, ...)</span></div>
</div><!-- fragment --></li>
</ul>
<h1><a class="anchor" id="doc_code_style_guide_qt_macros"></a>
Qt Macros</h1>
<ul>
<li>Do not use <code>Q_CHECK_PTR()</code> because it throws a std::bad_alloc exception which we will never catch (we only catch our own exception types)! Use <code>Q_ASSERT()</code> instead!</li>
<li>The macro <code>Q_DECLARE_TR_FUNCTIONS()</code> is very useful to use the translation method QObject::tr() (resp. tr()) also in classes which do not inherit from QObject (but do NOT use this macro in interface classes because of possible multiple inheritance &ndash;&gt; use QCoreApplication::translate() instead in this case)! See <a href="http://doc.qt.io/qt-5/qcoreapplication.html#Q_DECLARE_TR_FUNCTIONS">http://doc.qt.io/qt-5/qcoreapplication.html#Q_DECLARE_TR_FUNCTIONS</a> </li>
</ul>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="../../index.html">LibrePCB Developers Documentation</a></li>
    <li class="footer">Generated on Mon Jul 20 2015 21:16:03 for LibrePCB Developers Documentation by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
